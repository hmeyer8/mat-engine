# MAT Engine UI

React + Vite dashboard that consumes the FastAPI backend documented in the repository README. It lets you type a field ID, fetch the summary/NDVI/SVD stats, and preview/download the overlay PNG generated by the pipeline.

## Requirements

- Node.js 18+
- The FastAPI service running locally (see `../README.md`).

## Environment

Copy `.env.example` â†’ `.env` (or export the variables in your shell) and set:

```
VITE_NEXT_PUBLIC_API_URL=http://localhost:8080
VITE_MAPS_API_KEY=<optional-google-maps-key>
```

`VITE_MAPS_API_KEY` is reserved for the upcoming Google Maps overlay; the current release renders the PNG directly.

## Commands

```bash
npm install       # once
npm run dev       # start Vite dev server on http://localhost:5173
npm run build     # production bundle (under dist/)
npm run preview   # preview the production build
```

## Features

- Field selector form with optimistic loading state.
- Summary card for health score + stress label.
- NDVI line chart (Recharts) using `/fields/{id}/indices/ndvi`.
- Temporal SVD stats rendered side by side.
- Overlay panel that hits `/fields/{id}/overlay`, shows the PNG, and exposes a download link.
- Configurable API base URL derived from `VITE_NEXT_PUBLIC_API_URL` (falls back to `NEXT_PUBLIC_API_URL` for compatibility with the repo-level `.env`).

Wire this up with the backend by running `pytest` (or the individual pipeline steps) so that `data/processed/<field_id>` contains the overlay/NDVI/SVD artifacts before loading the dashboard.
